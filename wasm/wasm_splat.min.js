let e;function n(e){p===f.length&&f.push(f.length+1);const n=p;return p=f[n],f[n]=e,n}let t=null;function r(){return(null===t||!0===t.buffer.detached||void 0===t.buffer.detached&&t.buffer!==e.memory.buffer)&&(t=new DataView(e.memory.buffer)),t}let o=null;function s(){return null!==o&&0!==o.byteLength||(o=new Float32Array(e.memory.buffer)),o}let i=null;function _(){return null!==i&&0!==i.byteLength||(i=new Uint32Array(e.memory.buffer)),i}let a=null;function u(){return null!==a&&0!==a.byteLength||(a=new Uint8Array(e.memory.buffer)),a}function c(e){return f[e]}let f=new Array(128).fill(void 0);f.push(void 0,null,!0,!1);let p=f.length;function l(e,n){const t=n(4*e.length,4)>>>0;return _().set(e,t/4),w=e.length,t}function b(e,n){const t=n(1*e.length,1)>>>0;return u().set(e,t/1),w=e.length,t}function d(e,n){const t=n(4*e.length,4)>>>0;return s().set(e,t/4),w=e.length,t}function g(e){const n=c(e);return function(e){e<132||(f[e]=p,p=e)}(e),n}let w=0;export function append_data_from_buffer(t,r,o,s,i){const _=b(r,e.__wbindgen_export),a=w;var u=d(s,e.__wbindgen_export),c=w,f=l(i,e.__wbindgen_export),p=w;e.append_data_from_buffer(t,_,a,o,u,c,n(s),f,p,n(i))}export function compute_bounds(n){try{const u=e.__wbindgen_add_to_stack_pointer(-16);e.compute_bounds(u,n);var t=r().getInt32(u+0,!0),o=r().getInt32(u+4,!0),i=(_=t,a=o,_>>>=0,s().subarray(_/4,_/4+a)).slice();return e.__wbindgen_export2(t,4*o,4),i}finally{e.__wbindgen_add_to_stack_pointer(16)}var _,a}export function process_splats_from_buffer(t,r,o,s){const i=b(t,e.__wbindgen_export),_=w;var a=d(o,e.__wbindgen_export),u=w,c=l(s,e.__wbindgen_export),f=w;return e.process_splats_from_buffer(i,_,r,a,u,n(o),c,f,n(s))>>>0}export function process_splats_from_geometry(t,r,o,s,i,_,a){const u=d(t,e.__wbindgen_export),c=w,f=d(r,e.__wbindgen_export),p=w,g=d(o,e.__wbindgen_export),y=w,m=b(s,e.__wbindgen_export),x=w;var h=d(_,e.__wbindgen_export),v=w,A=l(a,e.__wbindgen_export),W=w;return e.process_splats_from_geometry(u,c,f,p,g,y,m,x,i,h,v,n(_),A,W,n(a))>>>0}export function process_splats_from_spz(t,r,o,s,i,_,a,u){const c=d(t,e.__wbindgen_export),f=w,p=d(r,e.__wbindgen_export),b=w,g=d(o,e.__wbindgen_export),y=w,m=d(s,e.__wbindgen_export),x=w,h=d(i,e.__wbindgen_export),v=w;var A=d(a,e.__wbindgen_export),W=w,O=l(u,e.__wbindgen_export),j=w;return e.process_splats_from_spz(c,f,p,b,g,y,m,x,h,v,_,A,W,n(a),O,j,n(u))>>>0}export function sort_splats(n,t,o,s){try{const p=e.__wbindgen_add_to_stack_pointer(-16),l=d(t,e.__wbindgen_export),b=w,g=d(o,e.__wbindgen_export),y=w;e.sort_splats(p,n,l,b,g,y,s);var i=r().getInt32(p+0,!0),a=r().getInt32(p+4,!0),u=(c=i,f=a,c>>>=0,_().subarray(c/4,c/4+f)).slice();return e.__wbindgen_export2(i,4*a,4),u}finally{e.__wbindgen_add_to_stack_pointer(16)}var c,f}export function unregister_positions(n){e.unregister_positions(n)}const y=new Set(["basic","cors","default"]);function m(){const e={wbg:{}};return e.wbg.__wbg___wbindgen_copy_to_typed_array_db832bc4df7216c1=function(e,n,t){var r,o;new Uint8Array(c(t).buffer,c(t).byteOffset,c(t).byteLength).set((r=e,o=n,r>>>=0,u().subarray(r/1,r/1+o)))},e.wbg.__wbindgen_object_drop_ref=function(e){g(e)},e}function x(n,r){return e=n.exports,v.__wbindgen_wasm_module=r,t=null,o=null,i=null,a=null,e}function h(n){if(void 0!==e)return e;void 0!==n&&(Object.getPrototypeOf(n)===Object.prototype?({module:n}=n):console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=m();n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n));return x(new WebAssembly.Instance(n,t),n)}async function v(n){if(void 0!==e)return e;void 0!==n&&(Object.getPrototypeOf(n)===Object.prototype?({module_or_path:n}=n):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===n&&(n=new URL("wasm_splat_bg.wasm",import.meta.url));const t=m();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:r,module:o}=await async function(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if(!e.ok||!y.has(e.type)||"application/wasm"===e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}(await n,t);return x(r,o)}export{h as initSync};export default v;