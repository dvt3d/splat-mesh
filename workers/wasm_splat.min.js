let e;function n(e){l===f.length&&f.push(f.length+1);const n=l;return l=f[n],f[n]=e,n}function t(e,n){return e>>>=0,i().subarray(e/4,e/4+n)}let r=null;function o(){return(null===r||!0===r.buffer.detached||void 0===r.buffer.detached&&r.buffer!==e.memory.buffer)&&(r=new DataView(e.memory.buffer)),r}let _=null;function i(){return null!==_&&0!==_.byteLength||(_=new Float32Array(e.memory.buffer)),_}let s=null;function a(){return null!==s&&0!==s.byteLength||(s=new Uint32Array(e.memory.buffer)),s}let u=null;function c(){return null!==u&&0!==u.byteLength||(u=new Uint8Array(e.memory.buffer)),u}function p(e){return f[e]}let f=new Array(128).fill(void 0);f.push(void 0,null,!0,!1);let l=f.length;function b(e,n){const t=n(4*e.length,4)>>>0;return a().set(e,t/4),y=e.length,t}function d(e,n){const t=n(1*e.length,1)>>>0;return c().set(e,t/1),y=e.length,t}function g(e,n){const t=n(4*e.length,4)>>>0;return i().set(e,t/4),y=e.length,t}function w(e){const n=p(e);return function(e){e<132||(f[e]=l,l=e)}(e),n}let y=0;export function append_data_from_buffer(t,r,o,_,i){const s=d(r,e.__wbindgen_export),a=y;var u=g(_,e.__wbindgen_export),c=y,p=b(i,e.__wbindgen_export),f=y;e.append_data_from_buffer(t,s,a,o,u,c,n(_),p,f,n(i))}export function compute_bounds(n){try{const s=e.__wbindgen_add_to_stack_pointer(-16);e.compute_bounds(s,n);var r=o().getInt32(s+0,!0),_=o().getInt32(s+4,!0),i=t(r,_).slice();return e.__wbindgen_export2(r,4*_,4),i}finally{e.__wbindgen_add_to_stack_pointer(16)}}export function get_positions(n){try{const s=e.__wbindgen_add_to_stack_pointer(-16);e.get_positions(s,n);var r=o().getInt32(s+0,!0),_=o().getInt32(s+4,!0),i=t(r,_).slice();return e.__wbindgen_export2(r,4*_,4),i}finally{e.__wbindgen_add_to_stack_pointer(16)}}export function process_splats_from_buffer(t,r,o,_){const i=d(t,e.__wbindgen_export),s=y;var a=g(o,e.__wbindgen_export),u=y,c=b(_,e.__wbindgen_export),p=y;return e.process_splats_from_buffer(i,s,r,a,u,n(o),c,p,n(_))>>>0}export function process_splats_from_geometry(t,r,o,_,i,s,a){const u=g(t,e.__wbindgen_export),c=y,p=g(r,e.__wbindgen_export),f=y,l=g(o,e.__wbindgen_export),w=y,m=d(_,e.__wbindgen_export),x=y;var h=g(s,e.__wbindgen_export),v=y,A=b(a,e.__wbindgen_export),W=y;return e.process_splats_from_geometry(u,c,p,f,l,w,m,x,i,h,v,n(s),A,W,n(a))>>>0}export function process_splats_from_spz(t,r,o,_,i,s,a,u){const c=g(t,e.__wbindgen_export),p=y,f=g(r,e.__wbindgen_export),l=y,d=g(o,e.__wbindgen_export),w=y,m=g(_,e.__wbindgen_export),x=y,h=g(i,e.__wbindgen_export),v=y;var A=g(a,e.__wbindgen_export),W=y,I=b(u,e.__wbindgen_export),k=y;return e.process_splats_from_spz(c,p,f,l,d,w,m,x,h,v,s,A,W,n(a),I,k,n(u))>>>0}export function sort_splats(n,t,r,_){try{const f=e.__wbindgen_add_to_stack_pointer(-16),l=g(t,e.__wbindgen_export),b=y,d=g(r,e.__wbindgen_export),w=y;e.sort_splats(f,n,l,b,d,w,_);var i=o().getInt32(f+0,!0),s=o().getInt32(f+4,!0),u=(c=i,p=s,c>>>=0,a().subarray(c/4,c/4+p)).slice();return e.__wbindgen_export2(i,4*s,4),u}finally{e.__wbindgen_add_to_stack_pointer(16)}var c,p}export function unregister_positions(n){e.unregister_positions(n)}const m=new Set(["basic","cors","default"]);function x(){const e={wbg:{}};return e.wbg.__wbg___wbindgen_copy_to_typed_array_db832bc4df7216c1=function(e,n,t){var r,o;new Uint8Array(p(t).buffer,p(t).byteOffset,p(t).byteLength).set((r=e,o=n,r>>>=0,c().subarray(r/1,r/1+o)))},e.wbg.__wbindgen_object_drop_ref=function(e){w(e)},e}function h(n,t){return e=n.exports,A.__wbindgen_wasm_module=t,r=null,_=null,s=null,u=null,e}function v(n){if(void 0!==e)return e;void 0!==n&&(Object.getPrototypeOf(n)===Object.prototype?({module:n}=n):console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=x();n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n));return h(new WebAssembly.Instance(n,t),n)}async function A(n){if(void 0!==e)return e;void 0!==n&&(Object.getPrototypeOf(n)===Object.prototype?({module_or_path:n}=n):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===n&&(n=new URL("wasm_splat_bg.wasm",import.meta.url));const t=x();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:r,module:o}=await async function(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if(!e.ok||!m.has(e.type)||"application/wasm"===e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}(await n,t);return h(r,o)}export{v as initSync};export default A;